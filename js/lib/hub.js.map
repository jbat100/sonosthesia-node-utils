{"version":3,"sources":["../ts/lib/hub.ts"],"names":[],"mappings":";AACA,uBAAuB;AAEvB,iCAAqE;AAErE,2CAAoD;AACpD,2CAA6C;AAG7C,gBAAwB,SAAQ,kBAAW;IAMvC,YAAoB,cAA8B,EAAU,UAAuB;QAC/E,KAAK,EAAE,CAAC;QADQ,mBAAc,GAAd,cAAc,CAAgB;QAAU,eAAU,GAAV,UAAU,CAAa;QAJ3E,0BAAqB,GAAG,IAAI,mCAAuB,EAAE,CAAC;QAEtD,sBAAiB,GAAG,IAAI,4BAAgB,EAAE,CAAC;IAInD,CAAC;IAED,IAAI,aAAa,KAAK,MAAM,CAAC,IAAI,CAAC,cAAc,CAAC,CAAC,CAAC;IAEnD,IAAI,gBAAgB,KAAK,MAAM,CAAC,IAAI,CAAC,iBAAiB,CAAC,CAAC,CAAC;IAEzD,IAAI,SAAS,KAAK,MAAM,CAAC,IAAI,CAAC,UAAU,CAAC,CAAC,CAAC;IAE3C,KAAK;QACD,MAAM,CAAC,CAAC,CAAC,IAAI,CAAC,CAAC,IAAI,CAAC;QAEpB,CAAC,CAAC,CAAC;IACP,CAAC;IAED,QAAQ;QACJ,MAAM,CAAC,CAAC,CAAC,IAAI,CAAC,CAAC,IAAI,CAAC;YAChB,OAAO,CAAC,GAAG,CAAC,MAAM,CAAC,CAAC;QACxB,CAAC,CAAC,CAAC;IACP,CAAC;IAED,eAAe,CAAC,UAAwB;QACpC,UAAU,CAAC,iBAAiB,CAAC,SAAS,CAAC,CAAC,OAAiB;YACrD,OAAO,CAAC,KAAK,CAAC,IAAI,CAAC,qBAAqB,CAAC,CAAC;QAC9C,CAAC,CAAC,CAAC;IACP,CAAC;CAEJ;AAlCD,gCAkCC","file":"hub.js","sourcesContent":["import * as _ from \"underscore\";\r\nimport * as Q from \"q\";\r\n\r\nimport {NativeClass, Message, IConnector, IConnection} from \"./core\";\r\nimport {Configuration} from './configuration';\r\nimport {HubMessageContentParser} from \"./messaging\";\r\nimport {ComponentManager} from \"./component\";\r\n\r\n\r\nexport class HubManager extends NativeClass {\r\n\r\n    private _messageContentParser = new HubMessageContentParser();\r\n\r\n    private _componentManager = new ComponentManager();\r\n\r\n    constructor(private _configuration : Configuration, private _connector : IConnector) {\r\n        super();\r\n    }\r\n\r\n    get configuration() { return this._configuration; }\r\n\r\n    get componentManager() { return this._componentManager; }\r\n\r\n    get connector() { return this._connector; }\r\n\r\n    setup() {\r\n        return Q(null).then(() => {\r\n\r\n        });\r\n    }\r\n\r\n    teardown() {\r\n        return Q(null).then(() => {\r\n            console.log(\"booo\");\r\n        });\r\n    }\r\n\r\n    setupConnection(connection : IConnection) {\r\n        connection.messageObservable.subscribe((message : Message) => {\r\n            message.parse(this._messageContentParser);\r\n        });\r\n    }\r\n\r\n}"]}